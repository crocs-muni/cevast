<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>cevast.certdb.cert_db API documentation</title>
<meta name="description" content="This module provides interface of CertDB class …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>cevast.certdb.cert_db</code></h1>
</header>
<section id="section-intro">
<p>This module provides interface of CertDB class</p>
<pre><code>CertDB is a key-value database managing X.509 certificates. CertDb shares some attributes with classic
transaction processing systems (as SQL) and provides a common API (insert, remove, commit, rollback).

Each certificate is uniquelly identified by its ID (fingerprint).
A certificate is internally handled as string -&gt; PEM format expected.

It is expected that certificate's ID is uniquely matching the certificate in the world
as a fingerprint should be used as ID. Therefore, inserting different certificate
under same ID does not lead to rewriting the original certificate. To replace
a specific certificate, it must first be deleted and then re-inserted - it can
be performed in a single transaction as long as the sequence is preserved.

Be aware that DELETE metod is deleting not persisted certificate immediatelly but
the persisted one remains untill the transaction is committed. Therefore, methods like
GET/EXPORT/EXISTS will not find not persisted deleted certificate.
</code></pre>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
This module provides interface of CertDB class

    CertDB is a key-value database managing X.509 certificates. CertDb shares some attributes with classic
    transaction processing systems (as SQL) and provides a common API (insert, remove, commit, rollback).

    Each certificate is uniquelly identified by its ID (fingerprint).
    A certificate is internally handled as string -&gt; PEM format expected.

    It is expected that certificate&#39;s ID is uniquely matching the certificate in the world
    as a fingerprint should be used as ID. Therefore, inserting different certificate
    under same ID does not lead to rewriting the original certificate. To replace
    a specific certificate, it must first be deleted and then re-inserted - it can
    be performed in a single transaction as long as the sequence is preserved.

    Be aware that DELETE metod is deleting not persisted certificate immediatelly but
    the persisted one remains untill the transaction is committed. Therefore, methods like
    GET/EXPORT/EXISTS will not find not persisted deleted certificate.
&#34;&#34;&#34;

from abc import ABC, abstractmethod
from typing import Tuple

__author__ = &#39;Radim Podola&#39;


class CertNotAvailableError(Exception):
    &#34;&#34;&#34;Raised when the certificate is not available in database&#34;&#34;&#34;


class CertInvalidError(ValueError):
    &#34;&#34;&#34;Raised when the certificate has an invalid identifier or a structure&#34;&#34;&#34;


class CertDBReadOnly(ABC):
    &#34;&#34;&#34;Abstract class representing read-only CertDB interface.&#34;&#34;&#34;

    @abstractmethod
    def get(self, cert_id: str) -&gt; str:
        &#34;&#34;&#34;
        Retrieve a certificate from the database.

        `cert_id` is the certificate identifier.
        Certificate is returned in a PEM format.
        Raise CertNotAvailableError if the certificate is not found.
        &#34;&#34;&#34;

    @abstractmethod
    def export(self, cert_id: str, target_dir: str, copy_if_exists: bool = True) -&gt; str:
        &#34;&#34;&#34;
        Export a certificate from the database and saves it as a PEM file.

        `cert_id` is the certificate identifier,
        `target_dir` is the target directory.
        If `copy_if_exists` is false and file already exists (e.g. temporary in open transaction),
        the file is not copied to the target directory, instead the existing file path is returned.

        Full path of the certificate file is returned.
        Raise CertNotAvailableError if the certificate is not found.
        &#34;&#34;&#34;

    @abstractmethod
    def exists(self, cert_id: str) -&gt; bool:
        &#34;&#34;&#34;
        Test whether a certificate exists in the database.

        `cert_id` is the certificate cert_identifier.
        &#34;&#34;&#34;

    @abstractmethod
    def exists_all(self, cert_ids: list) -&gt; bool:
        &#34;&#34;&#34;
        Test that all certificates exist in the database.

        `cert_ids` is a list of certificate identifiers.
        &#34;&#34;&#34;


# TODO add PURGE method for completely deleteting the storage
class CertDB(CertDBReadOnly):
    &#34;&#34;&#34;Abstract class representing CertDB interface.&#34;&#34;&#34;

    @abstractmethod
    def insert(self, cert_id: str, cert: str) -&gt; None:
        &#34;&#34;&#34;
        Insert the certificate to the database under `cert_id` identifier.

        Inserted certificate is not persisted immediatelly but
        remains in current open transaction untill commit or rollback.
        A expected format of certificate is PEM.
        &#34;&#34;&#34;

    @abstractmethod
    def delete(self, cert_id: str) -&gt; None:
        &#34;&#34;&#34;
        Delete the certificate from the database.

        Persisted certificate is not immediatelly deleted but
        remains untill commit or rollback. Certificate inserted
        in the current transaction is deleted immediatelly.
        &#34;&#34;&#34;

    @abstractmethod
    def rollback(self) -&gt; None:
        &#34;&#34;&#34;
        Revert the changes made by the current transaction.

        All inserted certificates waiting to persist are removed.
        All deleted certificates in the current transaction stay untouched.
        &#34;&#34;&#34;

    @abstractmethod
    def commit(self) -&gt; Tuple[int, int]:
        &#34;&#34;&#34;
        Apply the changes made by the current transaction.

        All inserted certificates waiting to persist are persisted.
        All deleted certificates in the current transaction are permanently removed.
        Return tuple of numbers (number of inserted; number of deleted)
        &#34;&#34;&#34;</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="cevast.certdb.cert_db.CertDB"><code class="flex name class">
<span>class <span class="ident">CertDB</span></span>
</code></dt>
<dd>
<div class="desc"><p>Abstract class representing CertDB interface.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CertDB(CertDBReadOnly):
    &#34;&#34;&#34;Abstract class representing CertDB interface.&#34;&#34;&#34;

    @abstractmethod
    def insert(self, cert_id: str, cert: str) -&gt; None:
        &#34;&#34;&#34;
        Insert the certificate to the database under `cert_id` identifier.

        Inserted certificate is not persisted immediatelly but
        remains in current open transaction untill commit or rollback.
        A expected format of certificate is PEM.
        &#34;&#34;&#34;

    @abstractmethod
    def delete(self, cert_id: str) -&gt; None:
        &#34;&#34;&#34;
        Delete the certificate from the database.

        Persisted certificate is not immediatelly deleted but
        remains untill commit or rollback. Certificate inserted
        in the current transaction is deleted immediatelly.
        &#34;&#34;&#34;

    @abstractmethod
    def rollback(self) -&gt; None:
        &#34;&#34;&#34;
        Revert the changes made by the current transaction.

        All inserted certificates waiting to persist are removed.
        All deleted certificates in the current transaction stay untouched.
        &#34;&#34;&#34;

    @abstractmethod
    def commit(self) -&gt; Tuple[int, int]:
        &#34;&#34;&#34;
        Apply the changes made by the current transaction.

        All inserted certificates waiting to persist are persisted.
        All deleted certificates in the current transaction are permanently removed.
        Return tuple of numbers (number of inserted; number of deleted)
        &#34;&#34;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="cevast.certdb.cert_db.CertDBReadOnly" href="#cevast.certdb.cert_db.CertDBReadOnly">CertDBReadOnly</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="cevast.certdb.cert_file_db.CertFileDB" href="cert_file_db.html#cevast.certdb.cert_file_db.CertFileDB">CertFileDB</a></li>
<li><a title="cevast.certdb.composite_cert_db.CompositeCertDB" href="composite_cert_db.html#cevast.certdb.composite_cert_db.CompositeCertDB">CompositeCertDB</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="cevast.certdb.cert_db.CertDB.commit"><code class="name flex">
<span>def <span class="ident">commit</span></span>(<span>self) ‑> Tuple[int, int]</span>
</code></dt>
<dd>
<div class="desc"><p>Apply the changes made by the current transaction.</p>
<p>All inserted certificates waiting to persist are persisted.
All deleted certificates in the current transaction are permanently removed.
Return tuple of numbers (number of inserted; number of deleted)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def commit(self) -&gt; Tuple[int, int]:
    &#34;&#34;&#34;
    Apply the changes made by the current transaction.

    All inserted certificates waiting to persist are persisted.
    All deleted certificates in the current transaction are permanently removed.
    Return tuple of numbers (number of inserted; number of deleted)
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
<dt id="cevast.certdb.cert_db.CertDB.delete"><code class="name flex">
<span>def <span class="ident">delete</span></span>(<span>self, cert_id: str) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Delete the certificate from the database.</p>
<p>Persisted certificate is not immediatelly deleted but
remains untill commit or rollback. Certificate inserted
in the current transaction is deleted immediatelly.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def delete(self, cert_id: str) -&gt; None:
    &#34;&#34;&#34;
    Delete the certificate from the database.

    Persisted certificate is not immediatelly deleted but
    remains untill commit or rollback. Certificate inserted
    in the current transaction is deleted immediatelly.
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
<dt id="cevast.certdb.cert_db.CertDB.insert"><code class="name flex">
<span>def <span class="ident">insert</span></span>(<span>self, cert_id: str, cert: str) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Insert the certificate to the database under <code>cert_id</code> identifier.</p>
<p>Inserted certificate is not persisted immediatelly but
remains in current open transaction untill commit or rollback.
A expected format of certificate is PEM.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def insert(self, cert_id: str, cert: str) -&gt; None:
    &#34;&#34;&#34;
    Insert the certificate to the database under `cert_id` identifier.

    Inserted certificate is not persisted immediatelly but
    remains in current open transaction untill commit or rollback.
    A expected format of certificate is PEM.
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
<dt id="cevast.certdb.cert_db.CertDB.rollback"><code class="name flex">
<span>def <span class="ident">rollback</span></span>(<span>self) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Revert the changes made by the current transaction.</p>
<p>All inserted certificates waiting to persist are removed.
All deleted certificates in the current transaction stay untouched.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def rollback(self) -&gt; None:
    &#34;&#34;&#34;
    Revert the changes made by the current transaction.

    All inserted certificates waiting to persist are removed.
    All deleted certificates in the current transaction stay untouched.
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="cevast.certdb.cert_db.CertDBReadOnly" href="#cevast.certdb.cert_db.CertDBReadOnly">CertDBReadOnly</a></b></code>:
<ul class="hlist">
<li><code><a title="cevast.certdb.cert_db.CertDBReadOnly.exists" href="#cevast.certdb.cert_db.CertDBReadOnly.exists">exists</a></code></li>
<li><code><a title="cevast.certdb.cert_db.CertDBReadOnly.exists_all" href="#cevast.certdb.cert_db.CertDBReadOnly.exists_all">exists_all</a></code></li>
<li><code><a title="cevast.certdb.cert_db.CertDBReadOnly.export" href="#cevast.certdb.cert_db.CertDBReadOnly.export">export</a></code></li>
<li><code><a title="cevast.certdb.cert_db.CertDBReadOnly.get" href="#cevast.certdb.cert_db.CertDBReadOnly.get">get</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="cevast.certdb.cert_db.CertDBReadOnly"><code class="flex name class">
<span>class <span class="ident">CertDBReadOnly</span></span>
</code></dt>
<dd>
<div class="desc"><p>Abstract class representing read-only CertDB interface.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CertDBReadOnly(ABC):
    &#34;&#34;&#34;Abstract class representing read-only CertDB interface.&#34;&#34;&#34;

    @abstractmethod
    def get(self, cert_id: str) -&gt; str:
        &#34;&#34;&#34;
        Retrieve a certificate from the database.

        `cert_id` is the certificate identifier.
        Certificate is returned in a PEM format.
        Raise CertNotAvailableError if the certificate is not found.
        &#34;&#34;&#34;

    @abstractmethod
    def export(self, cert_id: str, target_dir: str, copy_if_exists: bool = True) -&gt; str:
        &#34;&#34;&#34;
        Export a certificate from the database and saves it as a PEM file.

        `cert_id` is the certificate identifier,
        `target_dir` is the target directory.
        If `copy_if_exists` is false and file already exists (e.g. temporary in open transaction),
        the file is not copied to the target directory, instead the existing file path is returned.

        Full path of the certificate file is returned.
        Raise CertNotAvailableError if the certificate is not found.
        &#34;&#34;&#34;

    @abstractmethod
    def exists(self, cert_id: str) -&gt; bool:
        &#34;&#34;&#34;
        Test whether a certificate exists in the database.

        `cert_id` is the certificate cert_identifier.
        &#34;&#34;&#34;

    @abstractmethod
    def exists_all(self, cert_ids: list) -&gt; bool:
        &#34;&#34;&#34;
        Test that all certificates exist in the database.

        `cert_ids` is a list of certificate identifiers.
        &#34;&#34;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="cevast.certdb.cert_db.CertDB" href="#cevast.certdb.cert_db.CertDB">CertDB</a></li>
<li><a title="cevast.certdb.cert_file_db.CertFileDBReadOnly" href="cert_file_db.html#cevast.certdb.cert_file_db.CertFileDBReadOnly">CertFileDBReadOnly</a></li>
<li><a title="cevast.certdb.composite_cert_db.CompositeCertDBReadOnly" href="composite_cert_db.html#cevast.certdb.composite_cert_db.CompositeCertDBReadOnly">CompositeCertDBReadOnly</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="cevast.certdb.cert_db.CertDBReadOnly.exists"><code class="name flex">
<span>def <span class="ident">exists</span></span>(<span>self, cert_id: str) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Test whether a certificate exists in the database.</p>
<p><code>cert_id</code> is the certificate cert_identifier.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def exists(self, cert_id: str) -&gt; bool:
    &#34;&#34;&#34;
    Test whether a certificate exists in the database.

    `cert_id` is the certificate cert_identifier.
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
<dt id="cevast.certdb.cert_db.CertDBReadOnly.exists_all"><code class="name flex">
<span>def <span class="ident">exists_all</span></span>(<span>self, cert_ids: list) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Test that all certificates exist in the database.</p>
<p><code>cert_ids</code> is a list of certificate identifiers.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def exists_all(self, cert_ids: list) -&gt; bool:
    &#34;&#34;&#34;
    Test that all certificates exist in the database.

    `cert_ids` is a list of certificate identifiers.
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
<dt id="cevast.certdb.cert_db.CertDBReadOnly.export"><code class="name flex">
<span>def <span class="ident">export</span></span>(<span>self, cert_id: str, target_dir: str, copy_if_exists: bool = True) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Export a certificate from the database and saves it as a PEM file.</p>
<p><code>cert_id</code> is the certificate identifier,
<code>target_dir</code> is the target directory.
If <code>copy_if_exists</code> is false and file already exists (e.g. temporary in open transaction),
the file is not copied to the target directory, instead the existing file path is returned.</p>
<p>Full path of the certificate file is returned.
Raise CertNotAvailableError if the certificate is not found.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def export(self, cert_id: str, target_dir: str, copy_if_exists: bool = True) -&gt; str:
    &#34;&#34;&#34;
    Export a certificate from the database and saves it as a PEM file.

    `cert_id` is the certificate identifier,
    `target_dir` is the target directory.
    If `copy_if_exists` is false and file already exists (e.g. temporary in open transaction),
    the file is not copied to the target directory, instead the existing file path is returned.

    Full path of the certificate file is returned.
    Raise CertNotAvailableError if the certificate is not found.
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
<dt id="cevast.certdb.cert_db.CertDBReadOnly.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, cert_id: str) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve a certificate from the database.</p>
<p><code>cert_id</code> is the certificate identifier.
Certificate is returned in a PEM format.
Raise CertNotAvailableError if the certificate is not found.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def get(self, cert_id: str) -&gt; str:
    &#34;&#34;&#34;
    Retrieve a certificate from the database.

    `cert_id` is the certificate identifier.
    Certificate is returned in a PEM format.
    Raise CertNotAvailableError if the certificate is not found.
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="cevast.certdb.cert_db.CertInvalidError"><code class="flex name class">
<span>class <span class="ident">CertInvalidError</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Raised when the certificate has an invalid identifier or a structure</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CertInvalidError(ValueError):
    &#34;&#34;&#34;Raised when the certificate has an invalid identifier or a structure&#34;&#34;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.ValueError</li>
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
<dt id="cevast.certdb.cert_db.CertNotAvailableError"><code class="flex name class">
<span>class <span class="ident">CertNotAvailableError</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Raised when the certificate is not available in database</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CertNotAvailableError(Exception):
    &#34;&#34;&#34;Raised when the certificate is not available in database&#34;&#34;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="cevast.certdb" href="index.html">cevast.certdb</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="cevast.certdb.cert_db.CertDB" href="#cevast.certdb.cert_db.CertDB">CertDB</a></code></h4>
<ul class="">
<li><code><a title="cevast.certdb.cert_db.CertDB.commit" href="#cevast.certdb.cert_db.CertDB.commit">commit</a></code></li>
<li><code><a title="cevast.certdb.cert_db.CertDB.delete" href="#cevast.certdb.cert_db.CertDB.delete">delete</a></code></li>
<li><code><a title="cevast.certdb.cert_db.CertDB.insert" href="#cevast.certdb.cert_db.CertDB.insert">insert</a></code></li>
<li><code><a title="cevast.certdb.cert_db.CertDB.rollback" href="#cevast.certdb.cert_db.CertDB.rollback">rollback</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="cevast.certdb.cert_db.CertDBReadOnly" href="#cevast.certdb.cert_db.CertDBReadOnly">CertDBReadOnly</a></code></h4>
<ul class="">
<li><code><a title="cevast.certdb.cert_db.CertDBReadOnly.exists" href="#cevast.certdb.cert_db.CertDBReadOnly.exists">exists</a></code></li>
<li><code><a title="cevast.certdb.cert_db.CertDBReadOnly.exists_all" href="#cevast.certdb.cert_db.CertDBReadOnly.exists_all">exists_all</a></code></li>
<li><code><a title="cevast.certdb.cert_db.CertDBReadOnly.export" href="#cevast.certdb.cert_db.CertDBReadOnly.export">export</a></code></li>
<li><code><a title="cevast.certdb.cert_db.CertDBReadOnly.get" href="#cevast.certdb.cert_db.CertDBReadOnly.get">get</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="cevast.certdb.cert_db.CertInvalidError" href="#cevast.certdb.cert_db.CertInvalidError">CertInvalidError</a></code></h4>
</li>
<li>
<h4><code><a title="cevast.certdb.cert_db.CertNotAvailableError" href="#cevast.certdb.cert_db.CertNotAvailableError">CertNotAvailableError</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>